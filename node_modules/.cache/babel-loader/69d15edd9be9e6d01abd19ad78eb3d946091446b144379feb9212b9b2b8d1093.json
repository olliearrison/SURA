{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//import * as THREE from \"three\";\nimport { drawSceneList } from \"../App.vue\";\nimport { index } from './DrawingInput.vue';\nclass HistoryController {\n  constructor() {\n    this.undoHistory = [];\n    this.redoHistory = [];\n  }\n  canUndo() {\n    return this.undoHistory.length > 0;\n  }\n  canRedo() {\n    return this.redoHistory.length > 0;\n  }\n  undo() {\n    if (!this.canUndo()) {\n      console.log(\"empty\");\n      return;\n    }\n    console.log(\"history:\");\n    console.log(this.redoHistory);\n    let item = this.undoHistory.pop();\n    let action = item[0];\n    let object = item[1];\n\n    // Reverse the action\n    if (action === 'add') {\n      console.log(\"removing an object\");\n      console.log(\"current objects in scene:\", drawSceneList[index].children);\n      console.log(\"object to remove:\", object);\n\n      //console.log(\"removing an object\");\n      if (drawSceneList[index].children.includes(object)) {\n        console.log(\"object is in the scene\");\n      }\n      drawSceneList[index].remove(object);\n      this.redoHistory.push(['remove', object]);\n    } else if (action === 'remove') {\n      console.log(\"adding an object\");\n      drawSceneList[index].add(object);\n      this.redoHistory.push(['add', object]);\n    }\n  }\n  redo() {\n    if (!this.canRedo()) {\n      return;\n    }\n    let item = this.redoHistory.pop();\n    let action = item[0];\n    let objectID = item[1];\n\n    // Reverse the action\n    if (action === 'add') {\n      let object = drawSceneList[index].getObjectByID(objectID);\n      this.undoHistory.push(['remove', objectID]);\n      drawSceneList[index].remove(object);\n    } else if (action === 'remove') {\n      drawSceneList[index].add(objectID);\n      this.undoHistory.push(['add', objectID]);\n    }\n  }\n  action(item) {\n    this.undoHistory.push(item);\n  }\n}\nexport { HistoryController };","map":{"version":3,"names":["drawSceneList","index","HistoryController","constructor","undoHistory","redoHistory","canUndo","length","canRedo","undo","console","log","item","pop","action","object","children","includes","remove","push","add","redo","objectID","getObjectByID"],"sources":["/Users/olliearrison/Desktop/SURA/src/components/HistoryController.js"],"sourcesContent":["//import * as THREE from \"three\";\nimport { drawSceneList } from \"../App.vue\";\nimport { index } from './DrawingInput.vue';\n\nclass HistoryController {\n    constructor() {\n        this.undoHistory = [];\n        this.redoHistory = [];\n    }\n\n    canUndo() {\n        return this.undoHistory.length > 0;\n    }\n\n    canRedo() {\n        return this.redoHistory.length > 0;\n    }\n\n    undo() {\n        if (!this.canUndo()) {\n            console.log(\"empty\");\n            return;\n        }\n        console.log(\"history:\");\n        console.log(this.redoHistory);\n\n        let item = this.undoHistory.pop();\n        let action = item[0];\n        let object = item[1];\n\n        // Reverse the action\n        if (action === 'add') {\n            console.log(\"removing an object\");\n            console.log(\"current objects in scene:\", drawSceneList[index].children);\n            console.log(\"object to remove:\", object);\n\n            \n            //console.log(\"removing an object\");\n            if (drawSceneList[index].children.includes(object)) {\n                console.log(\"object is in the scene\");\n            }\n            drawSceneList[index].remove(object);\n            this.redoHistory.push(['remove', object]);\n        } else if (action === 'remove') {\n            console.log(\"adding an object\");\n            drawSceneList[index].add(object);\n            this.redoHistory.push(['add', object]);\n        }\n    }\n\n    redo() {\n        if (!this.canRedo()) {\n            return;\n        }\n        let item = this.redoHistory.pop();\n        let action = item[0];\n        let objectID = item[1];\n\n        // Reverse the action\n        if (action === 'add') {\n\n            let object = drawSceneList[index].getObjectByID(objectID);\n            this.undoHistory.push(['remove', objectID]);\n            drawSceneList[index].remove(object);\n\n        } else if (action === 'remove') {\n            drawSceneList[index].add(objectID);\n            this.undoHistory.push(['add', objectID]);\n        }\n    }\n\n    action(item){\n        this.undoHistory.push(item);\n    }\n}\n\nexport { HistoryController }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}