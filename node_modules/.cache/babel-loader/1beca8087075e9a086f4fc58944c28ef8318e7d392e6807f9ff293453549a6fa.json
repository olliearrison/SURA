{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-352fa47c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"drawing-input\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_v_col, {\n    class: \"button-container\",\n    rows: \"10\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_btn, {\n      class: \"fixed-button\",\n      ref: \"eraserButton\",\n      onClick: $options.toggleEraserMode,\n      large: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($data.stroke.eraser ? 'mdi-eraser' : 'mdi-brush-outline'), 1 /* TEXT */)]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n      class: \"fixed-button\",\n      ref: \"anotherButton\",\n      onClick: _ctx.handleAnotherButtonClick,\n      large: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.anotherButtonIcon), 1 /* TEXT */)]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_v_row, null, {\n    default: _withCtx(() => [_createVNode(_component_v_col, {\n      cols: \"12\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, {\n        large: \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Button 1\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_col, {\n      cols: \"12\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, {\n        large: \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Button 2\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_col, {\n      cols: \"12\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, {\n        large: \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Button 3\")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }), _createVNode(_component_v_row, {\n    class: \"bottom-buttons\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_btn, {\n      onClick: $options.backward,\n      large: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n        default: _withCtx(() => [_createTextVNode(\" mdi-arrow-left \")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n      onClick: $options.forward,\n      large: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n        default: _withCtx(() => [_createTextVNode(\" mdi-arrow-right \")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n      onClick: $options.play,\n      large: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_icon, null, {\n        default: _withCtx(() => [_createTextVNode(\" mdi-play \")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_v_col","rows","_component_v_btn","ref","onClick","$options","toggleEraserMode","large","_component_v_icon","$data","stroke","eraser","_component_v_spacer","_ctx","handleAnotherButtonClick","anotherButtonIcon","_component_v_row","cols","backward","forward","play"],"sources":["/Users/olliearrison/Desktop/SURA/src/components/DrawingInput.vue"],"sourcesContent":["<template>\n    <div class=\"drawing-input\">\n        \n        <v-col class=\"button-container\" rows=\"10\">\n        <v-btn class=\"fixed-button\" ref=\"eraserButton\" @click=\"toggleEraserMode\" large>\n            <v-icon>\n            {{ stroke.eraser ? 'mdi-eraser' : 'mdi-brush-outline' }}\n            </v-icon>\n        </v-btn>\n        <v-spacer></v-spacer>\n        <v-btn class=\"fixed-button\" ref=\"anotherButton\" @click=\"handleAnotherButtonClick\" large>\n            <v-icon>\n            {{ anotherButtonIcon }}\n            </v-icon>\n        </v-btn>\n        </v-col>\n\n        <v-row>\n    <v-col cols=\"12\">\n      <v-btn large>Button 1</v-btn>\n    </v-col>\n    <v-col cols=\"12\">\n      <v-btn large>Button 2</v-btn>\n    </v-col>\n    <v-col cols=\"12\">\n      <v-btn large>Button 3</v-btn>\n    </v-col>\n  </v-row>\n        \n        \n        <v-row class=\"bottom-buttons\">\n            <v-btn @click=\"backward\" large>\n                <v-icon>\n                    mdi-arrow-left\n                </v-icon>\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn @click=\"forward\" large>\n                <v-icon>\n                    mdi-arrow-right\n                </v-icon>\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn @click=\"play\" large>\n                <v-icon>\n                    mdi-play\n                </v-icon>\n            </v-btn>\n        </v-row>\n    </div>\n    \n</template>\n  \n<script>\nimport { draw } from \"./DrawHelper.js\";\nimport { arcRenderer, drawSceneList } from '../App.vue';\nimport * as THREE from 'three';\n//import * as THREE from \"three\";\n//import { renderer, scene, camera } from \"../App.vue\";\n\nexport let index = 0;\nlet drawing = false;\n\nlet rotatingInterval = null;  // Interval to rotate index\n//let rotatingCondition = false;\n\n\nexport default {\n    name: 'DrawingInput',\n\n    data(){\n        return {\n            isDrawing: false,\n            rotatingCondition: false,\n            stroke: {\n                show_stroke: true,\n                lineWidth: .25,\n                color: 0x000000,\n                eraser: false,\n                \n            }\n        };\n    },\n    mounted (){\n        this.$watch(() => this.rotatingCondition, (newValue) => {\n            console.log(\"hello\");\n            if(newValue){\n                if(rotatingInterval == null){\n                    console.log(\"hello\");\n                    // Rotate the index 5 times per second\n                    rotatingInterval = setInterval(() => {\n                        index = (index + 1) % drawSceneList.length;\n                    }, 1000/5); // 1000 ms (1s) divided by 5 gives 200 ms\n                }\n            }else{\n                // Stop rotating the index\n                if(rotatingInterval != null){\n                    clearInterval(rotatingInterval);\n                    rotatingInterval = null;\n                }\n            }\n        });\n        // document.body \n        /*\n        const button = this.$refs.eraserButton;\n        \n        button.addEventListener('click', () => {\n            console.log(\"pointer down\");\n            this.isEraserMode = !this.isEraserMode;\n        });\n        */\n\n\n        document.body.addEventListener('mouseup', (event) => {\n            if (this.inCanvas(event)){\n                this.handleMouseUp();\n                drawing = false;\n            }\n        });\n\n        document.body.addEventListener('mousedown', (event) => {\n            if (this.inCanvas(event)) {\n                drawing = true;\n                this.handleMouseDown(event);\n            }\n        });\n\n        document.body.addEventListener('pointermove', (event) => {\n            //console.log(event.pressure);\n            if (event.pressure > 0){\n                this.stroke.lineWidth = event.pressure * .5;\n            }\n\n        });\n\n        document.body.addEventListener('mousemove', (event) => {\n            //console.log(event.pressure);\n            if (this.inCanvas(event)) {\n                if (drawing) {\n                    this.handleMouseMove(event);\n                }\n            } else {\n                if (drawing){\n                    this.handleMouseUp();\n                    drawing = false;\n                }\n            }\n        });\n        //this.handleMouseMove(event);\n\n       \n\n    },\n    methods: {\n        inCanvas( event ) {\n            var rect = arcRenderer.domElement.getBoundingClientRect();\n            var centerX = rect.left + rect.width / 2;\n            var centerY = rect.top + rect.height / 2;\n\n            const dx = event.clientX - centerX;\n            const dy = event.clientY - centerY;\n            const distance = Math.sqrt(dx * dx + dy * dy);\n\n            if (distance < rect.width/2){\n                return false;\n            }\n            return true;\n        },\n        handleMouseMove(event) {\n            if (!this.isDrawing) return;\n            let x = event.clientX;\n            let y = event.clientY;\n            // Assuming a 2D drawing, so Z is constant, but this could be modified as per the requirement.\n            draw.onMove(x, y, this.stroke);\n        },\n        handleMouseDown(event) {\n            //console.log(\"mouse down\");\n            this.isDrawing = true;\n            let x = event.clientX;\n            let y = event.clientY;\n            draw.onStart(x, y, this.stroke);\n        },\n        handleMouseUp() {\n            this.isDrawing = false;\n            draw.onEnd();\n        },\n        toggleEraserMode() {\n            this.stroke.eraser = !this.stroke.eraser;\n        },\n        backward() {\n            if (index > 0){\n                index--;\n                console.log(drawSceneList[index].children.length);\n            }\n            \n        },\n        forward() {\n            if (index < drawSceneList.length - 1){\n                index++;\n                console.log(drawSceneList[index].children.length);\n            } else {\n                const newScene = new THREE.Scene();\n                //newScene.add(plane);\n                drawSceneList.push(newScene);\n                index++;\n                console.log(drawSceneList[index].children.length);\n            }\n        },\n        play() {\n            console.log(!this.rotatingCondition);\n            this.rotatingCondition = !this.rotatingCondition;\n        }\n        \n    }\n}\n</script>\n\n<style scoped>\n.drawing-input {\n    width: 100%;\n    height: 100%;\n}\n\n.fixed-button {\n  position: fixed;\n  top: 20px; /* Adjust the bottom value as needed */\n  left: 20px; /* Adjust the right value as needed */\n  z-index: 999; /* Set an appropriate z-index if necessary */\n  /* Add any other desired styles */\n}\n\n.button-container {\n  position: fixed;\n  top: 40px;\n  left: 40px;\n  height: 50%;\n  z-index: 999;\n  width: 10%;\n}\n\n.bottom-buttons {\n  position: fixed;\n  width: 15%;\n  bottom: 40px; /* Adjust the bottom value as needed */\n  left: 40px; /* Adjust the right value as needed */\n  z-index: 999; /* Set an appropriate z-index if necessary */\n  /* Add any other desired styles */\n}\n\n</style>\n"],"mappings":";;;EACSA,KAAK,EAAC;AAAe;;;;;;;uBAA1BC,mBAAA,CAgDM,OAhDNC,UAgDM,GA9CFC,YAAA,CAYQC,gBAAA;IAZDJ,KAAK,EAAC,kBAAkB;IAACK,IAAI,EAAC;;sBACrC,MAIQ,CAJRF,YAAA,CAIQG,gBAAA;MAJDN,KAAK,EAAC,cAAc;MAACO,GAAG,EAAC,cAAc;MAAEC,OAAK,EAAEC,QAAA,CAAAC,gBAAgB;MAAEC,KAAK,EAAL;;wBACrE,MAES,CAFTR,YAAA,CAESS,iBAAA;0BADT,MAAwD,C,kCAArDC,KAAA,CAAAC,MAAM,CAACC,MAAM,sD;;;;;;oCAGpBZ,YAAA,CAAqBa,mBAAA,GACrBb,YAAA,CAIQG,gBAAA;MAJDN,KAAK,EAAC,cAAc;MAACO,GAAG,EAAC,eAAe;MAAEC,OAAK,EAAES,IAAA,CAAAC,wBAAwB;MAAEP,KAAK,EAAL;;wBAC9E,MAES,CAFTR,YAAA,CAESS,iBAAA;0BADT,MAAuB,C,kCAApBK,IAAA,CAAAE,iBAAiB,iB;;;;;;;;MAKxBhB,YAAA,CAUEiB,gBAAA;sBATN,MAEQ,CAFRjB,YAAA,CAEQC,gBAAA;MAFDiB,IAAI,EAAC;IAAI;wBACd,MAA6B,CAA7BlB,YAAA,CAA6BG,gBAAA;QAAtBK,KAAK,EAAL;MAAK;0BAAC,MAAQ,C,iBAAR,UAAQ,E;;;;;QAEvBR,YAAA,CAEQC,gBAAA;MAFDiB,IAAI,EAAC;IAAI;wBACd,MAA6B,CAA7BlB,YAAA,CAA6BG,gBAAA;QAAtBK,KAAK,EAAL;MAAK;0BAAC,MAAQ,C,iBAAR,UAAQ,E;;;;;QAEvBR,YAAA,CAEQC,gBAAA;MAFDiB,IAAI,EAAC;IAAI;wBACd,MAA6B,CAA7BlB,YAAA,CAA6BG,gBAAA;QAAtBK,KAAK,EAAL;MAAK;0BAAC,MAAQ,C,iBAAR,UAAQ,E;;;;;;;;MAKnBR,YAAA,CAkBQiB,gBAAA;IAlBDpB,KAAK,EAAC;EAAgB;sBACzB,MAIQ,CAJRG,YAAA,CAIQG,gBAAA;MAJAE,OAAK,EAAEC,QAAA,CAAAa,QAAQ;MAAEX,KAAK,EAAL;;wBACrB,MAES,CAFTR,YAAA,CAESS,iBAAA;0BAFD,MAER,C,iBAFQ,kBAER,E;;;;;oCAEJT,YAAA,CAAqBa,mBAAA,GACrBb,YAAA,CAIQG,gBAAA;MAJAE,OAAK,EAAEC,QAAA,CAAAc,OAAO;MAAEZ,KAAK,EAAL;;wBACpB,MAES,CAFTR,YAAA,CAESS,iBAAA;0BAFD,MAER,C,iBAFQ,mBAER,E;;;;;oCAEJT,YAAA,CAAqBa,mBAAA,GACrBb,YAAA,CAIQG,gBAAA;MAJAE,OAAK,EAAEC,QAAA,CAAAe,IAAI;MAAEb,KAAK,EAAL;;wBACjB,MAES,CAFTR,YAAA,CAESS,iBAAA;0BAFD,MAER,C,iBAFQ,YAER,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}